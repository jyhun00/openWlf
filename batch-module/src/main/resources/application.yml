spring:
  application:
    name: openwlf-batch
  
  # H2 for testing (change to PostgreSQL for production)
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password:
    driver-class-name: org.h2.Driver
  
  h2:
    console:
      enabled: true
      path: /h2-console
  
  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: true
    show-sql: true
  
  batch:
    jdbc:
      initialize-schema: always
    job:
      enabled: false

# Sanctions download settings
sanctions:
  download:
    ofac-url: https://sanctionslistservice.ofac.treas.gov/api/PublicationPreview/exports/SDN_ADVANCED.XML
    un-url: https://scsanctions.un.org/resources/xml/en/consolidated.xml
    eu-url: https://webgate.ec.europa.eu/fsd/fsf/public/files/xmlFullSanctionsList_1_1/content
    eu-token: ${SANCTIONS_EU_TOKEN:}  # 환경변수로 설정 (예: export SANCTIONS_EU_TOKEN=your-token)
    download-timeout-ms: 300000
    max-retries: 3
    retry-delay-ms: 5000
    batch-size: 500
  
  sync:
    cron: "0 0 2 * * *"

logging:
  level:
    aml.openwlf.batch: DEBUG
    org.springframework.batch: INFO
    org.hibernate.SQL: DEBUG

server:
  port: 8081
